{% extends 'base.html' %}
{% block title %} All registered URLs {% endblock %}
{% block content %}
    <table class="table table-striped">
        <thead>
            <tr> 
                <th scope="col">Row</th>
                <th scope="col">Long URL</th>
                <th scope="col">Short URL</th>
                <th scope="col"><i class='bi bi-trash'></i></th>
            </tr>
        </thead>
        <tbody>
            {% for r in records %}
                <tr>
                    <th scope="row"> {{ loop.index }}</th> 
                    <td> {{ r.long_url }} </td> 
                    <td><a href="/{{ r.short_url }}">{{r.short_url}}</a></td>
                    <td><a href="/delete/{{r.id_}}"><i class='bi bi-trash'></i></a></td>
                </tr>
            {% endfor %}    
        </tbody>
    </table>
    <div class="container-fluid">
        {% with cat_msg = get_flashed_messages(with_categories=True) %}
            {% if cat_msg %}
                {% for cm in cat_msg %}
                    <div class="alert alert-{{ cm[0] }} alert-dismissible fade show" role="alert">
                        <strong>{{ cm[1] }}</strong>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>    
{% endblock %}